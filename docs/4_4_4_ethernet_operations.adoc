===== Operations [[low-cut-ethernet-operations]]

This section defines the specified operations for Ethernet.
The following tables provides an overview of all operations and specifies the position and length of the corresponding arguments, as well as the respective flow direction.


====== Format Error [[low-cut-ethernet-format-error-operation]]
Represents a format error that indicates a syntax or content error of receiving operations.
See <<low-cut-format-error-operation, `Format Error`>> for definition.


====== Transmit [[low-cut-ethernet-transmit]]
Represents the transmission of an Ethernet frame or MAC Merge Packet (mPacket).

.Detailed description of the Transmit operation.
[#table-fmi3-ls-bus-ethernet-transmit-operation]
[cols="6,1,5,4,3,20"]
|====
h|Name 5+| Transmit
h|Description 5+| Indicates the transmission of an Ethernet frame or mPacket.
h|OP Code [hex] 5+| 0x10
.21+h|Content 3+h|Argument h|Length h|Description


3+| OP Code
| 4 bytes
| Type of the operation.

3+| Length
| 4 bytes
| Total length of the operation.


3+| Start delimiter
| 1 byte
| The start frame (SFD) or start mPacket (SMD) delimiter. Always set to 0xD5 for ordinary Ethernet frames when not using preemption.

3+| Destination address
| 6 bytes
| The destination address of the frame.

3+| Source address
| 6 bytes
| The destination address of the frame.

3+| EtherType or length
| 2 bytes
| Indicates the type of Ethernet frame (Ethernet II) or frame length (802.3).

3+| CRC
| 4 bytes
| The checksum of this Ethernet frame or mPacket.

3+| Data length
| 1 byte
| The length of the data of this Ethernet frame or mPacket. Note that this does not correspond to a field in the Ethernet frame.

3+| Data
| n bytes
| The payload data of the Ethernet frame or mPacket.

|====


====== Transmit verify/respond [[low-cut-ethernet-transmit-verify-respond-operation]]
Represents the transmission of a verify or reponse mPacket.

.Detailed description of the Transmit verify/respond operation.
[#table-fmi3-ls-bus-ethernet-transmit-verify-respond-operation]
[cols="6,1,5,4,3,20"]
|====
h|Name 5+| TransmitVerifyRespond
h|Description 5+| Indicates the transmission of a verify or respond mPacket.
h|OP Code [hex] 5+| 0x11
.21+h|Content 3+h|Argument h|Length h|Description


3+| OP Code
| 4 bytes
| Type of the operation.

3+| Length
| 4 bytes
| Total length of the operation.


3+| Start delimiter
| 1 byte
| The delimiter indicating the type of mPacket.

3+| CRC
| 4 bytes
| The checksum of the mPacket.

3+| Data length
| 1 byte
| The length of the data of this mPacket. Note that this does not correspond to a field in the Ethernet frame.

3+| Data
| n bytes
| The payload data of the Ethernet mPacket.

|====


====== Transmit continuation [[low-cut-ethernet-transmit-continuation-operation]]
Represents the transmission of a continuation mPacket.

.Detailed description of the Transmit continuation operation.
[#table-fmi3-ls-bus-ethernet-transmit-continuation-operation]
[cols="6,1,5,4,3,20"]
|====
h|Name 5+| TransmitContinuation
h|Description 5+| Indicates the transmission of a continuation mPacket of a fragmented Ethernet frame.
h|OP Code [hex] 5+| 0x12
.21+h|Content 3+h|Argument h|Length h|Description


3+| OP Code
| 4 bytes
| Type of the operation.

3+| Length
| 4 bytes
| Total length of the operation.


3+| Start delimiter
| 1 byte
| The delimiter indicating the type of mPacket.

3+| Fragment counter
| 1 byte
| Fragment counter of the continuation mPacket.

3+| CRC
| 4 bytes
| The checksum of the mPacket.

3+| Data length
| 1 byte
| The length of the data of this mPacket. Note that this does not correspond to a field in the Ethernet frame.

3+| Data
| n bytes
| The payload data of the Ethernet mPacket.

|====


====== Confirm [[low-cut-ethernet-confirm-operation]]
The <<low-cut-ethernet-confirm-operation, `Confirm`>> operation is used to indicate the successful transmission of an Ethernet frame by a Network FMU.


====== Bus Error [[low-cut-ethernet-bus-error-operation]]
The <<low-cut-ethernet-bus-error-operation, `Bus Error`>> operation is used to indicate a bus communication error. Bus errors are delivered to every participant in the network.


====== Configuration [[low-cut-ethernet-configuration-operation]]
Represents the transmission of a continuation mPacket.

.Detailed description of the Configuration operation.
[#table-fmi3-ls-bus-ethernet-configuration-operation]
[cols="6,1,5,4,3,20"]
|====
h|Name 5+| Configuration
h|Description 5+| Provides information to configure the Ethernet bus.
h|OP Code [hex] 5+| 0x20
.21+h|Content 3+h|Argument h|Length h|Description


3+| OP Code
| 4 bytes
| Type of the operation.

3+| Length
| 4 bytes
| Total length of the operation.


3+| Parameter Type
| 1 byte
| Defines the current configuration parameter.

.17+h|
4+h|Parameter

.16+|SUPPORTED_PHY_TYPES
| Number of supported PHY types
| 1 bytes
| The number of characters in the list of supported PHY types.

| Supported PHY types
| 1 bytes
| An array of zero-terminated strings describing PHY types supported by this Ethernet node. The first element in this list indicates the type of PHY used by this node. The list must have at least one element. Elements describing a PHY standarized by 802.3 or an amendment must use the value described in the chapter "30.3.2.1.2 aPhyType" of the standard. Otherwise, a vendor-defined value may be used.



|====


====== Wake Up [[low-cut-ethernet-wake-up-operation]]
By using the <<low-cut-ethernet-wake-up-operation, `Wakeup`>> operation, the underlying Bus Simulation can trigger bus-specific wake up requests.

.Detailed description of the Wakeup operation.
[#table-ethernet-wakeup-operation]
[cols="5,4,3,20"]
|====
h|Name
3+|Wakeup
h|Description
3+|Represents an operation for triggering a bus-specific wake up.
h|OP Code [hex]
3+|0x42
.3+h|Content h|Argument h|Length h|Description
|OP Code
|4 byte
|Contains the OP Code (0x42) of the operation.

|Length
|4 byte
|Defines the cumulative length of all arguments in bytes.
The following applies for this operation: `Length = 8`.

h|Behavior
3+|The specified operation shall be produced by a Network FMU and distributed to all participants, except the wake-up initiator, of the bus using the Bus Simulation.
If a Network FMU does not support wake up, this operation can be ignored on the consumer side.

|====

